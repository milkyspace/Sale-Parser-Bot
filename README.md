# Парсер скидок с отправкой в Telegram

Этот скрипт автоматически парсит новые скидки с сайта Pepper.ru и отправляет их в Telegram-канал. Работает в фоновом режиме, обновляет данные каждые 2 минуты и автоматически очищает историю каждые 2 дня.

## Особенности
- Автоматический парсинг новых скидок с Pepper.ru
- Отправка в Telegram с красивым форматированием
- Очистка URL от трекеров и UTM-меток
- Обход антибот-защиты с помощью Selenium Stealth
- Работа в фоновом режиме
- Автоматическое обслуживание истории

## Установка

### 1. Предварительные требования
- Python 3.8+
- Google Chrome
- Git (рекомендуется)

### 2. Клонирование репозитория
```bash
git clone https://github.com/ваш-репозиторий/sale-parser-bot.git
cd sale-parser-bot
```

### 3. Установка зависимостей
```bash
pip3 install -r requirements.txt --break-system-packages
```

### 4. Настройка Telegram
- Создайте нового бота через @BotFather
- Получите API-токен вашего бота
- Создайте Telegram-канал
- Добавьте созданного бота как администратора канала
- Получите ID канала:
- Добавьте в канал бота @getidsbot
- Отправьте в канале любое сообщение
- Используйте команду /start в личном чате с ботом
- Скопируйте ID канала (формат @channel_name или отрицательное число)

### 5. Настройка скрипта
- Откройте файл скрипта и настройте параметры:
```bash
TELEGRAM_BOT_TOKEN = 'ВАШ_ТОКЕН_БОТА'  # Замените на реальный токен
TELEGRAM_CHANNEL_ID = '@ВАШ_КАНАЛ'     # Замените на ID вашего канала
```

### 6. Стандартный запуск
```bash
python3 sale_parser.py
```

### 7. Запуск в фоне
```bash
nohup python3 sale_parser.py > parser.log 2>&1 &
```

### 8. Логирование
- Скрипт записывает информацию в parser.log. Для просмотра:
```bash
tail -f parser.log
```
